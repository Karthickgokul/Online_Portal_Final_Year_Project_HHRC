<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Teacher Attendance - Rajah's College</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: url("../static/images/raja.jpg") no-repeat center center fixed;
        background-size: cover;
        margin: 0;
        padding: 0;
    }
    .overlay {
        position: fixed; top:0; left:0; width:100%; height:100%;
        background: rgba(0,0,0,0.4); z-index:1;
    }
    .container {
        position: relative; z-index:2; padding-top:50px;
    }
    .card {
        background: rgba(255,255,255,0.95);
        padding:20px; border-radius:10px; max-width:800px;
        margin:auto;
    }
    h2 {color:#8B0000; text-align:center; margin-bottom:20px;}
</style>
</head>
<body>
<div class="overlay"></div>
<div class="container">
    <div class="card">
        <h2>Teacher Attendance</h2>
        <form method="POST" action="/teacher/attendance">
            <div class="mb-3">
                <label>Date</label>
                <input type="date" name="date" class="form-control" required>
            </div>
            <div class="mb-3">
                <label>Subject</label>
                <select name="subject" class="form-select">
                    {% for subject in subjects %}
                        <option value="{{ subject.id }}" {% if subject.id == selected_subject_id %}selected{% endif %}>{{ subject.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <table class="table table-bordered mt-3">
                <thead>
                    <tr><th>Student Name</th><th>Status</th></tr>
                </thead>
                <tbody>
                    {% for student in students %}
                    <tr>
                        <td>{{ student.name }}</td>
                        <td>
                            <select name="status_{{ student.id }}" class="form-select">
                                <option value="Present">Present</option>
                                <option value="Absent" selected>Absent</option>
                            </select>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            <button type="submit" class="btn btn-primary w-100 mt-3">Save Attendance</button>
        </form>
        <a href="/logout" class="btn btn-secondary w-100 mt-2">Logout</a>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
